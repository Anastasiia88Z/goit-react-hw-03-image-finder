{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Container/Container.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/SearchBar/SearchBar.module.css","services/api.js","components/Container/Container.jsx","components/SearchBar/SearchBar.jsx","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","components/Modal/Modal.jsx","App.js","index.js"],"names":["module","exports","axios","defaults","baseURL","params","image_type","orientation","per_page","fetchPictures","pictureName","page","a","get","hits","data","Container","children","className","s","container","SearchBar","onSearch","Searchbar","SearchForm","onSubmit","e","preventDefault","target","elements","value","toLowerCase","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","name","autoComplete","autoFocus","placeholder","ImageGalleryItem","image","onSelect","webformatURL","tags","largeImageURL","src","alt","Images","onClick","ImageGallery","pictures","map","picture","id","Button","App","style","textAlign","color","height","width","timeout","modalRoot","document","getElementById","Modal","handleKeyDown","code","props","onClose","handleBackdropClick","currentTarget","window","addEventListener","this","removeEventListener","createPortal","Overlay","Component","state","selectedImg","reqStatus","showModal","handleFormSubmit","setState","loadMoreButtonClick","prevState","handleSelectedImage","LageImageURL","toggleModal","_","nextSearch","nextPage","trim","length","toast","error","scrollTo","top","documentElement","scrollHeight","behavior","showButton","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.884d490d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3-Cvn\",\"Images\":\"ImageGalleryItem_Images__3LE6v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1-YvC\",\"ModalStyle\":\"Modal_ModalStyle__24G4d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Container_Container__3QShr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2RvHI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__pqB7C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__15GF1\",\"SearchForm\":\"SearchBar_SearchForm__38IGD\",\"SearchFormButton\":\"SearchBar_SearchFormButton__2vRan\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__1uaS2\",\"SearchFormInput\":\"SearchBar_SearchFormInput__31ceq\"};","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com';\naxios.defaults.params = {\n  image_type: 'photo',\n  orientation: 'horizontal',\n  per_page: '12',\n};\n\nconst keyApi = '22624539-3e01f7ad519f43f5fb2c3ff3f';\n\nexport const fetchPictures = async (pictureName, page) => {\n  const {\n    data: { hits },\n  } = await axios.get(`/api/?q=${pictureName}&page=${page}&key=${keyApi}`);\n  return hits;\n};\n","import s from './Container.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function Container({ children }) {\r\n  return <div className={s.container}>{children}</div>;\r\n}\r\n\r\nContainer.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n};","import PropTypes from 'prop-types';\nimport s from './SearchBar.module.css';\n\nconst SearchBar = ({ onSearch }) => {\n  const handleSearch = e => {\n    e.preventDefault();\n    onSearch(e.target.elements.pictureName.value.toLowerCase());\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form className={s.SearchForm} onSubmit={handleSearch}>\n        <button type=\"submit\" className={s.SearchFormButton}>\n          <span className={s.SearchFormButtonLabel}>Search</span>\n        </button>\n\n        <input\n          className={s.SearchFormInput}\n          type=\"text\"\n          name=\"pictureName\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n        />\n      </form>\n    </header>\n  );\n};\nexport default SearchBar;\n\nSearchBar.propTypes = {\n  onSearch: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nexport default function ImageGalleryItem({ image, onSelect }) {\n  const { webformatURL, tags, largeImageURL } = image;\n\n  return (\n    <li className={s.ImageGalleryItem}>\n      <img\n        src={webformatURL}\n        alt={tags}\n        className={s.Images}\n        onClick={() => onSelect(largeImageURL)}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  image: PropTypes.object.isRequired,\n  onClick: PropTypes.func,\n};\n","import ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\nimport PropTypes from 'prop-types';\nimport s from './ImageGallery.module.css';\n\nconst ImageGallery = ({ pictures, onSelect }) => {\n  return (\n    <ul className={s.ImageGallery}>\n      {pictures.map((picture, id) => (\n        <ImageGalleryItem key={id} image={picture} onSelect={onSelect} />\n      ))}\n    </ul>\n  );\n};\n\nexport default ImageGallery;\n\nImageGallery.propTypes = {\n  pictures: PropTypes.arrayOf(\n    PropTypes.shape({\n      picture: PropTypes.object,\n      id: PropTypes.number.isRequired,\n    }),\n  ),\n  onSelect: PropTypes.func.isRequired,\n};\n","import PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nfunction Button({ onClick }) {\n  return (\n    <button type=\"button\" onClick={onClick} className={s.Button}>\n      Load more\n    </button>\n  );\n}\nexport default Button;\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n","import Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nexport default function App() {\n  const style = {textAlign: 'center'}\n  return (\n    <div style={style}>\n      <Loader\n        type=\"Puff\"\n        color=\"#00BFFF\"\n        height={100}\n        width={100}\n        timeout={3000}\n      />\n    </div>\n  );\n}\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.getElementById('modal-root');\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    const { src, alt } = this.props;\n\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>\n          <img src={src} alt={alt} />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.propTypes = {\n  src: PropTypes.string.isRequired,\n  alt: PropTypes.string,\n};\n","import { Component } from 'react';\nimport toast, { Toaster } from 'react-hot-toast';\nimport { fetchPictures } from './services/api';\nimport Container from './components/Container/Container';\nimport SearchBar from './components/SearchBar/SearchBar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button.jsx';\nimport Loader from './components/Loader/Loader.jsx';\nimport Modal from './components/Modal/Modal.jsx';\n\n\nexport default class App extends Component {\n  state = {\n    pictureName: null,\n    pictures: [],\n    selectedImg: null,\n    reqStatus: 'idle',\n    page: 1,\n    showModal: false,\n  };\n\n  async componentDidUpdate(_, prevState) {\n    const nextSearch = this.state.pictureName;\n    const nextPage = this.state.page;\n\n    if (prevState.pictureName !== nextSearch || prevState.page !== nextPage) {\n      try {\n        this.setState({ reqStatus: 'pending' });\n\n        const pictures = await fetchPictures(nextSearch, nextPage);\n\n        this.setState(prevState => ({\n          pictures: [...prevState.pictures, ...pictures],\n          reqStatus: 'resolved',\n        }));\n\n        if (nextSearch.trim() === '' || !pictures.length ) {\n          return toast.error(\n            `Sorry, but there are no pictures with  ${nextSearch}`,\n          );\n        }\n      } catch (error) {\n        this.setState({ reqStatus: 'rejected' });\n        toast.error('Something went wrong');\n      }\n\n      this.state.page > 1 &&\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n    }\n  }\n\n  handleFormSubmit = pictureName => {\n    this.setState({ pictureName });\n  };\n\n  loadMoreButtonClick = () => {\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n    }));\n  };\n\n  handleSelectedImage = LageImageURL => {\n    this.setState(prevState => ({\n      showModal: !prevState.showModal,\n      selectedImg: LageImageURL,\n    }));\n  };\n\n  toggleModal = () => {\n    this.setState(state => ({\n      showModal: !state.showModal,\n    }));\n    this.setState({\n      selectedImg: '',\n    });\n  };\n\n  render() {\n    const { pictures, reqStatus, selectedImg, showModal } = this.state;\n    const showButton = pictures.length >= 12;\n\n    return (\n      <Container>\n        <Toaster />\n        \n        <SearchBar onSearch={this.handleFormSubmit} />\n        \n        <ImageGallery pictures={pictures} onSelect={this.handleSelectedImage} />\n        \n        {reqStatus === 'pending' && <Loader />}\n\n        {showButton && <Button onClick={this.loadMoreButtonClick} />}\n        \n        {showModal && (\n          <Modal\n            src={this.state.selectedImg}\n            alt={selectedImg.tags}\n            onClose={this.toggleModal}\n          />\n        )}\n      </Container>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}